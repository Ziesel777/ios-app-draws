!function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],u=0,p=[];u<o.length;u++)r=o[u],n[r]&&p.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);for(d&&d(e);p.length;)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={0:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;i.push([7,1]),a()}([,function(t,e,a){"use strict";var s=a(4),n=a.n(s),i=a(6);n.a.use(i.a);e.a=new i.a.Store({state:{emptyDraw:{title:"",number:"",nameGroup:"",typeBuild:"",stage:"",company:"",develop:"",verification:"",gip:"",options:{format:"vertical",typeContent:"draw"}},draws:[{title:"Структурная схема",number:"ис-1-174078-19-со",nameGroup:'Сегмент сети доступа ООО фирма "ИНТЕРСВЯЗЬ" г. Челябинск, ул. Барбюса, д. 144-А',typeBuild:"Размещение телекомуникационного оборудования",stage:"РД",company:'ООО фирма "ИНТЕРСВЯЗЬ"',develop:"Квасницын",verification:"Юдин",gip:"Радющевский",options:{format:"vertical",typeContent:"draw"}}],editmode:!1,mwin:{show:!1,action:"",data:{}},tpwin:{show:!1}},mutations:{addPage:function(t,e){t.draws.push(e)},removePage:function(t){var e=t.draws,a=t.mwin.data.page-1;e.splice(a,1)},clearDraws:function(t){t.draws.splice(0),console.log(t.draws)},showModal:function(t,e){var a=t.mwin;a.show=!0,a.action=e.action,a.data=e.data}},actions:{mwUserConfirm:function(t,e){var a=t.commit,s=this.state.mwin;e&&a(s.action),s.show=!1}}})},,,,,,function(t,e,a){"use strict";a.r(e);a(8),a(9);var s=a(4),n=a.n(s),i=a(1);n.a.component("app",a(16).default),new n.a({el:"#app",store:i.a})},function(t,e){},function(t,e,a){var s=a(10);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(11)(s,n);s.locals&&(t.exports=s.locals)},function(t,e,a){},,,,,,function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("top-menu",{attrs:{page:t.getpage,editmode:t.editmode}}),0==t.draws.length?a("pre-menu",{attrs:{addPage:t.addPage}}):t._e(),t.draws.length>0?a("side-bar",{attrs:{editmode:t.editmode,addNewPage:t.addPage,onEditMode:t.onEditMode}}):t._e(),t.isMWShow?a("modal-window"):t._e(),t.tpwin.show?a("type-new-page"):t._e(),t.draws.length>0?a("div",{staticClass:"draw-wrapper js-draw-wrapper"},[t._l(t.draws,function(e,s){return a("draw",{key:e.id,attrs:{data:e,editmode:t.editmode,page:s+1}})})],2):t._e()],1)};s._withStripped=!0;var n=a(0),i=a.n(n),r=a(3),o=a.n(r),c=a(1),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pre-menu"},[a("ul",[a("li",{on:{click:function(e){return t.addPage()}}},[a("i",{staticClass:"ico far fa-newspaper"}),t._v(" Новый проект")]),t._m(0),t._m(1)])])};l._withStripped=!0;var d={props:{addPage:Function},data:function(){return{}}},u=a(2),p=Object(u.a)(d,l,[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"ico far fa-folder-open"}),this._v(" Открыть проект")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"ico fas fa-sign-out-alt"}),this._v(" Выход")])}],!1,null,null,null);p.options.__file="src/components/pre-menu/PreMenu.vue";var f=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"side-bar js-side-bar"},[a("i",{staticClass:"fas fa-bars ico btn-toggle js-btn-toggle"}),t._v(" "),a("i",{staticClass:"far fa-times-circle btn-close js-btn-close",attrs:{title:"Закрыть"}}),a("li",{attrs:{title:"Новый лист"},on:{click:function(e){return t.addNewPage()}}},[a("i",{staticClass:"ico far fa-file"})]),a("li",{attrs:{title:"Редактировать проект"},on:{click:function(e){return t.onEditMode()}}},[a("i",{staticClass:"ico far fa-edit",class:{edit:t.editmode}})]),t._m(0),a("li",{attrs:{title:"Очистить проект"},on:{click:t.clearDraws}},[a("i",{staticClass:"ico fas fa-eraser"})])])};function b(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}m._withStripped=!0;var v=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$sidebar=i()(".js-side-bar"),this.$btn=this.$sidebar.find(".js-btn-toggle"),this.$li=this.$sidebar.find("li"),this.$close=this.$sidebar.find(".js-btn-close")}var e,a,s;return e=t,(a=[{key:"init",value:function(){var t=this;t.$btn.click(function(){t.$sidebar.addClass("show"),i()(this).stop().hide(0),t.$close.show()}),t.$close.click(function(){t.hideSideBar()}),t.$sidebar.click(function(){t.timer&&clearTimeout(t.timer)}),i()("#app").click(function(e){0==i()(e.target).closest(".js-side-bar").length&&t.$sidebar.hasClass("show")&&(t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t.hideSideBar()},5e3))})}},{key:"hideSideBar",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$sidebar.removeClass("show"),this.$btn.show(500),this.$close.hide()}}])&&b(e.prototype,a),s&&b(e,s),t}(),h={name:"SideBar",props:{editmode:Boolean,addNewPage:Function,onEditMode:Function},data:function(){return{}},methods:{clearDraws:function(){var t=c.a.state.mwin;t.show=!0,t.action="clearDraws"}},mounted:function(){(new v).init()}},w=Object(u.a)(h,m,[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{attrs:{title:"Сохранить проект"}},[e("i",{staticClass:"ico far fa-save"})])}],!1,null,null,null);w.options.__file="src/components/side-bar/SideBar.vue";var C=w.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-menu"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.editmode,expression:"editmode"}],staticClass:"mode",class:{edit:t.editmode}},[t._v(t._s(t.getEditMode))]),a("div",{staticClass:"page-counter"},[t._v("pages: "+t._s(t.page))])])};_._withStripped=!0;var g={name:"TopMenu",props:{page:Number,editmode:Boolean},date:function(){return{}},computed:{getEditMode:function(){return this.editmode?"вкл. режим ред.":""}}},y=Object(u.a)(g,_,[],!1,null,null,null);y.options.__file="src/components/top-menu/TopMenu.vue";var j=y.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mwin"},[a("div",{staticClass:"mwin--container"},[a("div",{staticClass:"mwin--content"},[a("div",{staticClass:"mwin--title"},[a("i",{staticClass:"ico",class:[t.type.ico]}),t._v(" "+t._s(t.type.title))]),a("div",{staticClass:"mwin--info"},[t._v(t._s(t.type.info))])]),a("div",{staticClass:"mwin--btn-group"},[a("div",{staticClass:"app-btn",on:{click:function(e){return t.mwAction(!0)}}},[t._v("Да")]),a("div",{staticClass:"app-btn",on:{click:function(e){return t.mwAction(!1)}}},[t._v("Нет")])])])])};P._withStripped=!0;var $={name:"ModalWindow",data:function(){return{mwin:c.a.state.mwin}},computed:{type:function(){this.mwin;return{removePage:{ico:"fas fa-exclamation-triangle",title:"Внимание!",info:"Вы действительно хотите удалить ".concat(this.mwin.data.page," лист?")},clearDraws:{ico:"fas fa-exclamation-triangle",title:"Внимание!",info:"Вы действительно хотите очистить проект?"}}[this.mwin.action]}},methods:{mwAction:function(t){c.a.dispatch("mwUserConfirm",t)}}},O=Object(u.a)($,P,[],!1,null,null,null);O.options.__file="src/components/modal-window/ModalWindow.vue";var x=O.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type-page js-type-page"},[a("div",{staticClass:"type-page--container"},[t.win.format?a("div",{staticClass:"type-page--format"},[a("div",{staticClass:"type-page--title"},[t._v("Ориентация листа")]),a("ul",[a("li",{class:{active:"vertical"==t.options.format},on:{click:function(e){return t.setFormat("vertical")}}},[a("i",{staticClass:"far fa-file ico vertical"}),t._v(" Вертикальная")]),a("li",{class:{active:"horizontal"==t.options.format},on:{click:function(e){return t.setFormat("horizontal")}}},[a("i",{staticClass:"far fa-file ico horizontal"}),t._v(" Горизонтальная")])])]):t._e(),t.win.content?a("div",{staticClass:"type-page--content"},[a("div",{staticClass:"type-page--title"},[t._v("Выберите тип контента")]),a("ul",[a("li",{class:{active:"text"==t.options.typeContent},on:{click:function(e){return t.setContent("text")}}},[a("i",{staticClass:"far fa-file-alt ico"}),t._v(" Текстовый")]),a("li",{class:{active:"draw"==t.options.typeContent},on:{click:function(e){return t.setContent("draw")}}},[a("i",{staticClass:"far fa-file-image ico"}),t._v(" Графический")])])]):t._e(),a("div",{staticClass:"btn-group js-btn-group"},[t.btn.back?a("div",{staticClass:"app-btn back js-app-btn",on:{click:function(e){return t.next(-1)}}},[t._v("Назад")]):t._e(),t.btn.next?a("div",{staticClass:"app-btn next js-app-btn",on:{click:function(e){return t.next(1)}}},[t._v("Далее")]):t._e()])])])};function E(t,e){var a=Object.keys(t);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(t)),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?E(a,!0).forEach(function(e){S(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function S(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}k._withStripped=!0;var D={name:"TypeNewPage",data:function(){return{options:{format:"vertical",typeContent:"draw"},idWinActive:0,typeWin:["format","content"],win:{format:!0,content:!1},btn:{back:!1,next:!0}}},methods:{setFormat:function(t){this.options.format=t},setContent:function(t){this.options.typeContent=t},next:function(t){this.idWinActive+=t,this.idWinActive<this.typeWin.length?this.stateComponent():(this.addPage(),this.close())},stateComponent:function(){var t=this.typeWin[this.idWinActive];for(var e in this.btn.back=this.idWinActive>0,this.win)this.win[e]=e==t},addPage:function(){var t=M({},this.options),e=M({},c.a.state.emptyDraw);e.options=t,c.a.commit("addPage",e)},close:function(){this.options={format:"vertical",typeContent:"draw"},this.idWinActive=0,c.a.state.tpwin.show=!1}},updated:function(){var t=i()(".js-type-page").find(".js-btn-group");t.find(".js-app-btn").length>1?t.css({"justify-content":"space-between"}):t.attr("style","")}},W=Object(u.a)(D,k,[],!1,null,null,null);W.options.__file="src/components/type-new-page/TypeNewPage.vue";var B=W.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"plan js-plan",class:[t.data.options.format]},[a("div",{staticClass:"plan-body"},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.editmode,expression:"editmode"}],staticClass:"fas fa-times plan--close",attrs:{title:"Удалить лист"},on:{click:t.removePage}}),a("h2",{staticClass:"plan__title"},[t._v(t._s(t.data.title))]),a("div",{staticClass:"plan__content"},[t._v(t._s(t.message)+" "),a("br")]),a("table",{staticClass:"plan__big-panel bt-right",attrs:{nochilddrag:""}},[a("tbody",[a("tr",[a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"wd-15 br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-full wd-120 upc ctr draw-number",class:{edit:t.editmode},attrs:{colspan:"6",rowspan:"2",contenteditable:t.editmode},domProps:{textContent:t._s(t.data.number)},on:{blur:function(e){return t.setContent("number",e)}}})]),t._m(0),a("tr",[a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-full ctr",class:{edit:t.editmode},attrs:{colspan:"6",rowspan:"3",contenteditable:t.editmode},domProps:{textContent:t._s(t.data.nameGroup)},on:{blur:function(e){return t.setContent("nameGroup",e)}}})]),t._m(1),t._m(2),a("tr",[a("td",{staticClass:"br-1",attrs:{colspan:"2"}},[t._v("Разраб.")]),a("td",{staticClass:"br-1",class:{edit:t.editmode},attrs:{colspan:"2",contenteditable:t.editmode},domProps:{textContent:t._s(t.data.develop)},on:{blur:function(e){return t.setContent("develop",e)}}}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-full wd-70 ctr draw-name",class:{edit:t.editmode},attrs:{colspan:"3",rowspan:"3",contenteditable:t.editmode},domProps:{textContent:t._s(t.data.typeBuild)},on:{blur:function(e){return t.setContent("typeBuild",e)}}}),a("td",{staticClass:"br-full ctr"},[t._v("Стадия")]),a("td",{staticClass:"br-full ctr"},[t._v("Лист")]),a("td",{staticClass:"br-full ctr"},[t._v("Листов")])]),a("tr",[a("td",{staticClass:"br-1",attrs:{colspan:"2"}},[t._v("Проверил")]),a("td",{staticClass:"br-1",class:{edit:t.editmode},attrs:{colspan:"2",contenteditable:t.editmode},domProps:{textContent:t._s(t.data.verification)},on:{blur:function(e){return t.setContent("verification",e)}}}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-full ctr",attrs:{rowspan:"2"}},[t._v(t._s(t.data.stage))]),a("td",{staticClass:"br-full ctr",attrs:{rowspan:"2"}},[t._v(t._s(t.page))]),a("td",{staticClass:"br-full ctr",attrs:{rowspan:"2"}})]),t._m(3),a("tr",[a("td",{staticClass:"br-1",attrs:{colspan:"2"}},[t._v("Н. контр.")]),a("td",{staticClass:"br-1",attrs:{colspan:"2"}}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-full ctr",class:{edit:t.editmode},attrs:{colspan:"3",rowspan:"3",contenteditable:t.editmode},domProps:{textContent:t._s(t.data.title)},on:{blur:function(e){return t.setContent("title",e)}}}),a("td",{staticClass:"br-full ctr",class:{edit:t.editmode},attrs:{colspan:"3",rowspan:"3",contenteditable:t.editmode},domProps:{textContent:t._s(t.data.company)},on:{blur:function(e){return t.setContent("company",e)}}})]),t._m(4),a("tr",[a("td",{staticClass:"br-1",attrs:{colspan:"2"}},[t._v("ГИП")]),a("td",{staticClass:"br-1",class:{edit:t.editmode},attrs:{colspan:"2",contenteditable:t.editmode},domProps:{textContent:t._s(t.data.gip)},on:{blur:function(e){return t.setContent("gip",e)}}}),a("td",{staticClass:"br-1"}),a("td",{staticClass:"br-1"})])])]),"horizontal"==t.data.options.format?a("table",{staticClass:"plan__small-panel bt-left"},[t._m(5)]):t._e()])])};function A(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}T._withStripped=!0;var N=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$plans=i()(".js-plan")}var e,a,s;return e=t,(a=[{key:"scrollLastElem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,e=this.$plans[this.$plans.length-1];i()("html, body").animate({scrollTop:i()(e).offset().top},{duration:t})}},{key:"dragscroll",value:function(){var t=null;i()(document).off(),i()(document).mousedown(function(e){0==e.button&&i()("#app").css({cursor:"grabbing"}),t&&e.target!=t&&i()(t).blur()}),i()(document).mouseup(function(t){i()("#app").css({cursor:"default"})}),i()("td[contenteditable]").click(function(e){t=this}).mouseenter(function(t){"true"==i()(t.target).attr("contenteditable")&&(i()("body").removeClass("dragscroll"),o.a.reset())}).mouseout(function(t){"true"==i()(t.target).attr("contenteditable")&&(i()("body").addClass("dragscroll"),o.a.reset())})}}])&&A(e.prototype,a),s&&A(e,s),t}(),F={name:"Draw",props:{data:Object,page:Number,editmode:Boolean},data:function(){return{message:"Здесь должен быть чертеж или текст",draws:c.a.state.draws}},computed:{},methods:{setContent:function(t,e){var a=this.draws[this.page-1],s=e.target.textContent;a[t]=s},removePage:function(){c.a.commit("showModal",{action:"removePage",data:{page:this.page}})}},mounted:function(){var t=new N;t.scrollLastElem(),t.dragscroll();var e=i()(this.$el).width(),a=i()(window).width();if(a<e);}},z=Object(u.a)(F,T,[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"br-full ctr"},[this._v("Изм.")]),e("td",{staticClass:"br-full ctr"},[this._v("Кол.уч.")]),e("td",{staticClass:"br-full ctr"},[this._v("Лист")]),e("td",{staticClass:"br-full ctr"},[this._v("№док.")]),e("td",{staticClass:"br-full ctr"},[this._v("Подп.")]),e("td",{staticClass:"br-full ctr"},[this._v("Дата")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"br-1",attrs:{colspan:"2"}},[this._v("Т. контр.")]),e("td",{staticClass:"br-1",attrs:{colspan:"2"}}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"br-1",attrs:{colspan:"2"}}),e("td",{staticClass:"br-1",attrs:{colspan:"2"}}),e("td",{staticClass:"br-1"}),e("td",{staticClass:"br-1"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tbody",[e("tr",[e("td",{staticClass:"br-full ctr"},[this._v("Инд. № подл.")]),e("td",{staticClass:"wd-35 br-full ctr"},[this._v("Подп. и дата")]),e("td",{staticClass:"br-full ctr"},[this._v("Взам. инв. №")])]),e("tr",[e("td",{staticClass:"br-full"}),e("td",{staticClass:"br-full"}),e("td",{staticClass:"br-full"})])])}],!1,null,null,null);z.options.__file="src/components/draw/Draw.vue";var G={components:{"pre-menu":f,"side-bar":C,"top-menu":j,"modal-window":x,"type-new-page":B,draw:z.exports},data:function(){return{editmode:c.a.state.editmode,draws:c.a.state.draws,tpwin:c.a.state.tpwin}},computed:{getpage:function(){return this.draws.length},isMWShow:function(){return c.a.state.mwin.show}},methods:{addPage:function(){this.tpwin.show=!0},onEditMode:function(){this.editmode=!this.editmode},isEditMode:function(){0==this.draws.length&&(this.editmode=!1)}},mounted:function(){},updated:function(){this.isEditMode(),0==this.getpage?(i()("body").removeClass("dragscroll"),o.a.reset()):(i()("body").addClass("dragscroll"),o.a.reset())}},J=Object(u.a)(G,s,[],!1,null,null,null);J.options.__file="src/components/App.vue";e.default=J.exports}]);